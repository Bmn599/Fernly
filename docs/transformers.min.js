/*
 * Transformers.js v2.5.1 - UMD Build (Local Copy)
 * 
 * PRODUCTION DEPLOYMENT INSTRUCTIONS:
 * ===================================
 * This is a PLACEHOLDER file for development/testing. For production deployment:
 * 
 * 1. Download the official release:
 *    curl -L -o transformers.min.js "https://github.com/xenova/transformers.js/releases/download/v2.5.1/transformers.min.js"
 * 
 * 2. Replace this entire file with the downloaded version
 * 
 * 3. Verify the file size is ~2-3MB (this mock version is much smaller)
 * 
 * Official Source: https://github.com/xenova/transformers.js/releases/tag/v2.5.1
 * License: Apache 2.0
 * Documentation: https://huggingface.co/docs/transformers.js/
 * 
 * BENEFITS OF LOCAL HOSTING:
 * - Zero CDN failures or network dependencies
 * - Works offline and on restricted networks  
 * - Faster loading (no external requests)
 * - Version pinning for stability
 * - Easy upgrades (replace single file)
 */

// Mock implementation for development/testing - REPLACE WITH ACTUAL FILE
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['exports'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.transformers = {}));
})(this, (function (exports) {
    'use strict';
    
    // Mock pipeline function - this simulates the actual transformers.js API
    async function pipeline(task, model, options = {}) {
        console.log(`[MOCK] Loading pipeline: ${task} with model: ${model}`);
        
        // Simulate loading progress
        if (options.progress_callback) {
            for (let i = 0; i <= 1; i += 0.1) {
                setTimeout(() => options.progress_callback(i), i * 100);
            }
        }
        
        // Return a mock pipeline object
        return async function(input, options = {}) {
            console.log(`[MOCK] Generating text for: ${input}`);
            
            // Simulate text generation
            const responses = [
                "I understand you're reaching out for support. Mental health is important, and I'm here to help.",
                "Thank you for sharing that with me. How are you feeling today?",
                "That sounds challenging. Would you like to talk more about what's been on your mind?",
                "I appreciate you opening up. Taking care of your mental health is a positive step.",
                "It's completely normal to have these feelings. What kind of support would be most helpful right now?"
            ];
            
            return [{
                generated_text: input + " " + responses[Math.floor(Math.random() * responses.length)]
            }];
        };
    }
    
    // Export the pipeline function
    exports.pipeline = pipeline;
    
    // Make it available globally for UMD compatibility
    if (typeof window !== 'undefined') {
        window.transformers = exports;
    }
    
    console.log('[MOCK] Transformers.js loaded (development version)');
}));