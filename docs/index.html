<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fernly Health - Mental Wellness Reimagined</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      font-family: 'Poppins', sans-serif;
      color: #333;
      background: linear-gradient(45deg, #8fbf8f, #bf4f4f, #8fbf8f);
      background-size: 400% 400%;
      animation: moodShift 12s ease-in-out infinite;
    }

    @keyframes moodShift {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      html,
      body {
        animation: none;
      }
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    .container {
      width: 90%;
      max-width: 1200px;
      margin: 0 auto;
    }

    /* Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, #8fbf8f, #bf4f4f, #8fbf8f);
      background-size: 400% 400%;
      animation: moodShift 12s ease-in-out infinite;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 1s ease, visibility 1s ease;
    }

    .loading-screen.fade-out {
      opacity: 0;
      visibility: hidden;
    }

    .loading-content {
      text-align: center;
      color: white;
    }

    .loading-text {
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 1rem;
      opacity: 0;
      animation: fadeInUp 1s ease forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    header {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 0;
    }

    .logo {
      display: flex;
      align-items: center;
    }

    .logo img {
      height: 40px;
      margin-right: 0.75rem;
      opacity: 0;
      transform: translateY(-50px) rotate(-15deg);
      animation: leafDrop 2s ease-out forwards;
      animation-delay: 0.5s;
    }

    @keyframes leafDrop {
      0% {
        opacity: 0;
        transform: translateY(-50px) rotate(-15deg);
      }
      30% {
        opacity: 0.3;
        transform: translateY(-30px) rotate(-10deg);
      }
      60% {
        opacity: 0.7;
        transform: translateY(-10px) rotate(-5deg);
      }
      80% {
        opacity: 0.9;
        transform: translateY(-2px) rotate(-2deg);
      }
      100% {
        opacity: 1;
        transform: translateY(0) rotate(0deg);
      }
    }

    .logo span {
      font-size: 1.5rem;
      font-weight: 700;
      color: #4F7942;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.8s ease forwards;
      animation-delay: 2.5s;
    }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 2rem;
      align-items: center;
    }

    .nav-links a {
      font-weight: 500;
      transition: color 0.3s ease;
      position: relative;
    }

    .nav-links a:hover {
      color: #619251;
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -5px;
      left: 0;
      background-color: #619251;
      transition: width 0.3s ease;
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    /* ORIGINAL WORKING BUTTON STYLES */
    .btn-primary {
      background: #619251;
      color: #fff;
      padding: 0.75rem 1.5rem;
      border-radius: 25px;
      font-weight: 600;
      transition: all 0.3s ease;
      border: 2px solid #619251;
    }

    .btn-primary:hover {
      background: transparent;
      color: #619251;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: transparent;
      color: #fff;
      padding: 0.75rem 1.5rem;
      border-radius: 25px;
      font-weight: 600;
      border: 2px solid #fff;
      transition: all 0.3s ease;
    }

    .btn-secondary:hover {
      background: #fff;
      color: #333;
      transform: translateY(-2px);
    }

    .hero {
      text-align: center;
      padding: 8rem 1rem 4rem;
      color: #fff;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 1rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
      font-weight: 700;
    }

    .hero .tagline {
      font-size: 1.3rem;
      max-width: 700px;
      margin: 0 auto 2rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
      font-weight: 300;
      opacity: 0;
      transform: translateY(20px);
      transition: all 1.2s ease;
    }

    .hero .tagline.show {
      opacity: 1;
      transform: translateY(0);
    }

    .hero h1 .word {
      display: inline-block;
      opacity: 0;
      transform: translateY(20px);
      animation: ghostFadeIn 2s ease forwards;
    }

    .hero h1 .word:nth-child(1) { animation-delay: 1s; }
    .hero h1 .word:nth-child(2) { animation-delay: 2.5s; }
    .hero h1 .word:nth-child(3) { animation-delay: 4s; }

    @keyframes ghostFadeIn {
      0% {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
        filter: blur(2px);
      }
      50% {
        opacity: 0.5;
        transform: translateY(10px) scale(0.98);
        filter: blur(1px);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0px);
      }
    }

    .hero-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    /* Blank section between hero and resources */
    .blank-section {
      height: 50vh;
      background: transparent;
    }

    #blog {
      padding: 4rem 0;
      background: rgba(255, 255, 255, 0.1);
    }

    .section-title {
      text-align: center;
      color: #fff;
      font-size: 2.5rem;
      margin-bottom: 3rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    }

    .blog-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    /* ORIGINAL WORKING BLOG CARD STYLES */
    .blog-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
    }

    .blog-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
    }

    .blog-image {
      height: 200px;
      background: linear-gradient(45deg, #8fbf8f, #619251);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 2rem;
      font-weight: 700;
    }

    .blog-content {
      padding: 1.5rem;
    }

    .blog-source {
      color: #619251;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .blog-title {
      color: #333;
      font-size: 1.2rem;
      margin-bottom: 1rem;
      line-height: 1.4;
    }

    .blog-excerpt {
      color: #666;
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    .read-more {
      color: #619251;
      font-weight: 600;
      transition: color 0.3s ease;
    }

    .read-more:hover {
      color: #4F7942;
    }

    section#about,
    section#contact {
      background: transparent;
      padding: 4rem 1rem;
      color: #fff;
      text-align: center;
    }

    #about p {
      max-width: 800px;
      margin: 0 auto;
      color: #fff;
      line-height: 1.8;
      font-size: 1.1rem;
    }

    .contact-cta {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      font-weight: 300;
    }

    form {
      max-width: 500px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    input,
    textarea {
      padding: 1rem;
      border: none;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.95);
      font-family: inherit;
      transition: all 0.3s ease;
    }

    input:focus,
    textarea:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(97, 146, 81, 0.3);
    }

    button {
      align-self: flex-start;
      font-family: inherit;
      cursor: pointer;
    }

    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #fff;
      padding: 2rem 1rem;
      background: rgba(0, 0, 0, 0.1);
    }

    .back-to-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: #619251;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      opacity: 0;
      visibility: hidden;
      z-index: 1000;
    }

    .back-to-top.visible {
      opacity: 1;
      visibility: visible;
    }

    .back-to-top:hover {
      background: #4F7942;
      transform: translateY(-3px);
    }

    /* Cursor Trail Effect */
    .cursor-trail {
      position: fixed;
      width: 6px;
      height: 6px;
      background: rgba(97, 146, 81, 0.8);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      transition: all 0.1s ease;
    }

    /* AI Chatbot Widget */
    .chat-widget {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      z-index: 1000;
    }

    .chat-toggle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #619251;
      color: white;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .chat-toggle:hover {
      background: #4F7942;
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
    }

    .chat-container {
      position: fixed;
      bottom: 5rem;
      right: 2rem;
      width: 350px;
      height: 500px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px) scale(0.9);
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .chat-container.open {
      opacity: 1;
      visibility: visible;
      transform: translateY(0) scale(1);
    }

    .chat-header {
      background: #619251;
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 15px 15px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-header h3 {
      margin: 0;
      font-size: 1.1rem;
    }

    .chat-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background 0.3s ease;
    }

    .chat-close:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .chat-messages {
      flex: 1;
      padding: 1rem;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      max-height: 300px;
      scroll-behavior: smooth;
    }

    .message {
      padding: 0.75rem 1rem;
      border-radius: 15px;
      max-width: 80%;
      word-wrap: break-word;
      animation: messageSlideIn 0.3s ease;
    }

    @keyframes messageSlideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.user {
      background: #619251;
      color: white;
      margin-left: auto;
      margin-right: 8px;
    }

    .message.bot {
      background: #f0f0f0;
      color: #333;
      margin-right: auto;
      margin-left: 8px;
    }

    /* Typing indicator styles */
    .typing-indicator {
      display: flex;
      gap: 4px;
      padding: 8px 12px;
    }

    .typing-indicator span {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: #619251;
      animation: typing 1.4s infinite ease-in-out;
    }

    .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
    .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typing {
      0%, 80%, 100% {
        transform: scale(0.8);
        opacity: 0.5;
      }
      40% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .chat-input-container {
      padding: 1rem;
      border-top: 1px solid #eee;
      position: relative;
    }

    .chat-input {
      width: 100%;
      padding: 0.75rem 3rem 0.75rem 1rem;
      border: 1px solid #ddd;
      border-radius: 20px;
      resize: none;
      font-family: inherit;
      font-size: 0.9rem;
      transition: border-color 0.3s ease;
      max-height: 100px;
      min-height: 40px;
    }

    .chat-input:focus {
      outline: none;
      border-color: #619251;
    }

    .chat-send {
      position: absolute;
      right: 1.5rem;
      bottom: 1.5rem;
      background: #619251;
      color: white;
      border: none;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .chat-send:hover {
      background: #4F7942;
      transform: scale(1.1);
    }

    .disclaimer {
      font-size: 0.7rem;
      color: #999;
      text-align: center;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.8);
      border-top: 1px solid #eee;
    }

    html {
      scroll-behavior: smooth;
    }

    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }

      .hero h1 {
        font-size: 2.5rem;
      }

      .hero .tagline {
        font-size: 1.1rem;
      }

      .hero-buttons {
        flex-direction: column;
        align-items: center;
      }

      .blog-grid {
        grid-template-columns: 1fr;
      }

      .container {
        padding: 0 1rem;
      }

      /* Mobile chat adjustments */
      .chat-container {
        width: calc(100vw - 2rem);
        height: 60vh;
        right: 1rem;
        left: 1rem;
        bottom: 5rem;
      }

      .chat-widget {
        right: 1rem;
        bottom: 1rem;
      }
    }
  </style>
</head>

<body>
  <!-- Loading Screen -->
  <div class="loading-screen" id="loadingScreen">
    <div class="loading-content">
      <div class="loading-text">Welcome to Fernly Health</div>
    </div>
  </div>

  <header>
    <div class="container">
      <nav>
        <div class="logo">
          <img src="images/Fernly-logo.png" alt="Fernly Health Logo">
          <span>Fernly Health</span>
        </div>
        <ul class="nav-links">
          <li><a href="#home">Home</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="team.html">Team</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a href="#contact" class="btn-primary">Get Started</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <section id="home" class="hero">
    <div class="container">
      <h1>
        <span class="word" data-word="Recover.">Recover.</span>
        <span class="word" data-word="Rebuild.">Rebuild.</span>
        <span class="word" data-word="Thrive.">Thrive.</span>
      </h1>
      <p class="tagline">Because just 'okay' isn't good enough</p>
      <div class="hero-buttons">
        <a href="services.html" class="btn-primary">Our Services</a>
        <a href="#contact" class="btn-secondary">Free Consultation</a>
      </div>
    </div>
  </section>

  <!-- Blank section between hero and resources -->
  <section class="blank-section"></section>

  <section id="blog">
    <div class="container">
      <h2 class="section-title">Mental Health Resources</h2>
      <div class="blog-grid">
        <div class="blog-card">
          <div class="blog-image">ANX</div>
          <div class="blog-content">
            <div class="blog-source">Psychology Today</div>
            <h3 class="blog-title">What to Do When Your Anxiety Won't Go Away</h3>
            <p class="blog-excerpt">A practical guide to calming persistent anxiety using simple, everyday strategies rooted in mindfulness and self-care.</p>
            <a href="https://www.psychologytoday.com/us/blog/anxiety-zen/201505/what-do-when-your-anxiety-won-t-go-away" target="_blank" class="read-more">Read More →</a>
          </div>
        </div>
        <div class="blog-card">
          <div class="blog-image">RES</div>
          <div class="blog-content">
            <div class="blog-source">American Psychological Association</div>
            <h3 class="blog-title">The Science of Resilience: Building Mental Strength</h3>
            <p class="blog-excerpt">Evidence-based strategies for developing psychological resilience and coping mechanisms in challenging times.</p>
            <a href="https://www.apa.org/topics/resilience" target="_blank" class="read-more">Read More →</a>
          </div>
        </div>
        <div class="blog-card">
          <div class="blog-image">MIN</div>
          <div class="blog-content">
            <div class="blog-source">PsychCentral</div>
            <h3 class="blog-title">Mindfulness and Recovery: A Holistic Approach</h3>
            <p class="blog-excerpt">How mindfulness practices can enhance traditional therapy and support long-term mental health recovery.</p>
            <a href="https://psychcentral.com/blog/mindfulness-in-mental-health-recovery" target="_blank" class="read-more">Read More →</a>
          </div>
        </div>
        <div class="blog-card">
          <div class="blog-image">RES</div>
          <div class="blog-content">
            <div class="blog-source">PsyPost</div>
            <h3 class="blog-title">Latest Research on Depression Treatment</h3>
            <p class="blog-excerpt">New findings on personalized treatment approaches and the role of genetics in depression management.</p>
            <a href="https://www.psypost.org/category/mental-health/depression/" target="_blank" class="read-more">Read More →</a>
          </div>
        </div>
        <div class="blog-card">
          <div class="blog-image">REL</div>
          <div class="blog-content">
            <div class="blog-source">Verywell Mind</div>
            <h3 class="blog-title">8 Ways to Provide Emotional Support for Your Partner</h3>
            <p class="blog-excerpt">Practical, emotionally grounded tips—like active listening, meaningful gestures, and emotional validation—to help partners feel seen, heard, and supported during tough times.</p>
            <a href="https://www.verywellmind.com/how-to-provide-emotional-support-for-your-partner-7505967" target="_blank" class="read-more">Read More →</a>
          </div>
        </div>
        <div class="blog-card">
          <div class="blog-image">GRP</div>
          <div class="blog-content">
            <div class="blog-source">Psychology Today</div>
            <h3 class="blog-title">What Is Group Counseling?</h3>
            <p class="blog-excerpt">Discover how group counseling creates a space for shared healing—where people connect, grow, and gain strength through each other's stories and support.</p>
            <a href="https://www.psychologytoday.com/us/basics/therapy/what-is-group-counseling" target="_blank" class="read-more">Read More →</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="about">
    <div class="container">
      <h2 class="section-title">About Us</h2>
      <p>Fernly Health offers comprehensive mental health and recovery services across Arizona, led by a multidisciplinary team of board certified psychiatrists, psychologists, therapists, counselors, and a Psychiatric Mental Health Nurse Practitioner. We are committed to delivering compassionate, evidence-based care in a welcoming, supportive environment where individuals can heal, grow, and thrive.</p>
    </div>
  </section>

  <section id="contact">
    <div class="container">
      <h2 class="section-title">Contact Us</h2>
      <p class="contact-cta">Reach out for a free consultation – your healing starts here.</p>
      <form>
        <input type="text" placeholder="Name" required>
        <input type="email" placeholder="Email" required>
        <textarea rows="4" placeholder="How can we help?" required></textarea>
        <button type="submit" class="btn-primary">Send Message</button>
      </form>
    </div>
  </section>

  <footer>
    <div class="container">
      &copy; 2025 Fernly Health. All rights reserved.
    </div>
  </footer>

  <!-- Back to Top Button -->
  <button id="backToTop" class="back-to-top">↑</button>

  <!-- AI Chatbot Widget -->
  <div class="chat-widget">
    <button class="chat-toggle" id="chatToggle">💬</button>
    <div class="chat-container" id="chatContainer">
      <div class="chat-header">
        <h3>Mental Health Assistant</h3>
        <button class="chat-close" id="chatClose">×</button>
      </div>
      <div class="chat-messages" id="chatMessages">
        <div class="message bot">
          Hi there! I'm here to listen and help. How are you feeling today? 💚
        </div>
      </div>
      <div class="chat-input-container">
        <textarea 
          class="chat-input" 
          id="chatInput" 
          placeholder="Tell me what's on your mind..."
          rows="1"
        ></textarea>
        <button class="chat-send" id="chatSend">→</button>
      </div>
      <div class="disclaimer">
        This AI assistant provides general information only. It's not a substitute for professional medical advice. If you're in crisis, please call 988 or seek immediate help.
      </div>
    </div>
  </div>

  <script>
    // Loading screen
    setTimeout(() => {
      document.getElementById('loadingScreen').classList.add('fade-out');
    }, 2000);

    // Smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Navbar scroll effect
    window.addEventListener('scroll', function() {
      const header = document.querySelector('header');
      if (window.scrollY > 100) {
        header.style.background = 'rgba(255,255,255,0.98)';
      } else {
        header.style.background = 'rgba(255,255,255,0.95)';
      }
    });

    // Back to top button
    const backToTopBtn = document.getElementById('backToTop');
    window.addEventListener('scroll', function() {
      if (window.scrollY > 300) {
        backToTopBtn.classList.add('visible');
      } else {
        backToTopBtn.classList.remove('visible');
      }
    });

    backToTopBtn.addEventListener('click', function() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // Tagline animation
    setTimeout(() => {
      const tagline = document.querySelector('.hero .tagline');
      tagline.classList.add('show');
    }, 5000);

    // Cursor trail effect
    let cursorTrails = [];
    const maxTrails = 20;

    document.addEventListener('mousemove', function(e) {
      const trail = document.createElement('div');
      trail.className = 'cursor-trail';
      trail.style.left = e.pageX - 3 + 'px';
      trail.style.top = e.pageY - 3 + 'px';
      document.body.appendChild(trail);

      cursorTrails.push(trail);

      if (cursorTrails.length > maxTrails) {
        const oldTrail = cursorTrails.shift();
        if (oldTrail && oldTrail.parentNode) {
          oldTrail.parentNode.removeChild(oldTrail);
        }
      }

      setTimeout(() => {
        if (trail.parentNode) {
          trail.style.opacity = '0';
          trail.style.transform = 'scale(0.5)';
          setTimeout(() => {
            if (trail.parentNode) {
              trail.parentNode.removeChild(trail);
            }
          }, 200);
        }
      }, 100);
    });

    // AI Chatbot Functionality - Part 1: Basic UI Structure
    const chatToggle = document.getElementById('chatToggle');
    const chatContainer = document.getElementById('chatContainer');
    const chatClose = document.getElementById('chatClose');
    const chatMessages = document.getElementById('chatMessages');
    const chatInput = document.getElementById('chatInput');
    const chatSend = document.getElementById('chatSend');

    // Chat toggle functionality
    chatToggle.addEventListener('click', () => {
      chatContainer.classList.toggle('open');
      if (chatContainer.classList.contains('open')) {
        chatInput.focus();
        // Add welcome message if this is the first time opening
        if (chatMessages.children.length === 0) {
          addMessage("Hello! I'm here to listen and support you. How are you feeling today?", 'bot');
        }
      }
    });

    // Chat close functionality
    chatClose.addEventListener('click', () => {
      chatContainer.classList.remove('open');
    });

    // Auto-resize textarea for better UX
    chatInput.addEventListener('input', () => {
      chatInput.style.height = 'auto';
      chatInput.style.height = Math.min(chatInput.scrollHeight, 100) + 'px';
    });

    // Send message on Enter key (but allow Shift+Enter for new lines)
    chatInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });

    // Send message on button click
    chatSend.addEventListener('click', sendMessage);

    // Enhanced message sending function with better responses
    async function sendMessage() {
      const message = chatInput.value.trim();
      if (!message) return;

      // Add user message
      addMessage(message, 'user');
      chatInput.value = '';
      chatInput.style.height = 'auto';

      // Show typing indicator
      const typingIndicator = addMessage('...', 'bot typing');
      
      // Simulate AI thinking time
      setTimeout(() => {
        chatMessages.removeChild(typingIndicator);
        const response = generateSmartResponse(message);
        addMessage(response, 'bot');
      }, 1000 + Math.random() * 1000); // Random delay between 1-2 seconds
    }

    // Enhanced message display function
    function addMessage(text, type) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${type}`;
      
      // Handle different message types
      if (type === 'bot typing') {
        messageDiv.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>';
      } else {
        messageDiv.textContent = text;
      }
      
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      return messageDiv;
    }

    // Smart response generation
    function generateSmartResponse(userMessage) {
      const lowerMessage = userMessage.toLowerCase();
      
      // Crisis detection
      if (lowerMessage.includes('suicide') || lowerMessage.includes('kill myself') || lowerMessage.includes('want to die')) {
        return "I'm very concerned about what you're going through. If you're having thoughts of harming yourself, please call 988 (the Suicide & Crisis Lifeline) right now. They have trained counselors available 24/7. You're not alone, and help is available.";
      }
      
      // Emotional state detection
      if (lowerMessage.includes('anxiety') || lowerMessage.includes('anxious') || lowerMessage.includes('worried')) {
        return "I hear you're dealing with anxiety. That can be really overwhelming. Have you tried any breathing exercises? Sometimes taking slow, deep breaths can help calm your nervous system. Would you like to talk more about what's causing your anxiety?";
      }
      
      if (lowerMessage.includes('depression') || lowerMessage.includes('sad') || lowerMessage.includes('hopeless')) {
        return "I'm sorry you're feeling this way. Depression can make everything feel heavy and overwhelming. Remember that these feelings are temporary, even if they don't feel that way right now. Have you considered talking to a mental health professional? They can provide support and treatment options.";
      }
      
      if (lowerMessage.includes('stress') || lowerMessage.includes('overwhelmed')) {
        return "Stress can really take a toll on our mental health. It sounds like you're carrying a lot right now. What's one small thing you could do today to take care of yourself? Even something simple like taking a walk or calling a friend can help.";
      }
      
      // Greeting responses
      if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
        return "Hello! I'm here to listen and support you. How are you feeling today?";
      }
      
      if (lowerMessage.includes('how are you')) {
        return "I'm doing well, thank you for asking! I'm here to focus on you though - how are you feeling?";
      }
      
      // Help requests
      if (lowerMessage.includes('help') || lowerMessage.includes('need help')) {
        return "I'm here to help! I can listen, offer support, and provide information about mental health resources. What specific help do you need right now?";
      }
      
      // Therapy and treatment questions
      if (lowerMessage.includes('therapy') || lowerMessage.includes('counseling')) {
        return "Therapy can be incredibly helpful for many people. It provides a safe space to talk through challenges with a trained professional. Would you like to know more about different types of therapy or how to find a therapist?";
      }
      
      if (lowerMessage.includes('medication') || lowerMessage.includes('meds')) {
        return "Medication can be an important part of mental health treatment for some people. It's best to discuss this with a psychiatrist or psychiatric nurse practitioner who can evaluate your specific needs. Have you talked to a mental health professional about medication options?";
      }
      
      // Self-care suggestions
      if (lowerMessage.includes('self care') || lowerMessage.includes('self-care')) {
        return "Self-care is so important! Some ideas: take a warm bath, go for a walk, call a friend, practice deep breathing, or do something creative. What activities usually help you feel better?";
      }
      
      // Sleep issues
      if (lowerMessage.includes('sleep') || lowerMessage.includes('insomnia')) {
        return "Sleep problems can really impact our mental health. Some tips: try to go to bed and wake up at the same time, avoid screens before bed, and create a relaxing bedtime routine. Are you having trouble falling asleep or staying asleep?";
      }
      
      // Relationship issues
      if (lowerMessage.includes('relationship') || lowerMessage.includes('partner') || lowerMessage.includes('family')) {
        return "Relationships can be complex and challenging. It's normal to have difficulties sometimes. Would you like to talk more about what's happening in your relationship? Sometimes just talking it through can help clarify things.";
      }
      
      // Work stress
      if (lowerMessage.includes('work') || lowerMessage.includes('job') || lowerMessage.includes('career')) {
        return "Work stress is really common and can affect our mental health significantly. What specifically about work is causing you stress? Sometimes setting boundaries or talking to a supervisor can help.";
      }
      
      // General support responses
      if (lowerMessage.includes('thank you') || lowerMessage.includes('thanks')) {
        return "You're very welcome! I'm glad I could help. Remember, I'm here whenever you need to talk.";
      }
      
      // Default empathetic response
      return "I hear you, and I want you to know that your feelings are valid. It sounds like you're going through a difficult time. Would you like to talk more about what's on your mind? I'm here to listen.";
    }

    // Form submission
    document.querySelector('form').addEventListener('submit', function(e) {
      e.preventDefault();
      alert('Thank you for your message! We\'ll get back to you soon.');
      this.reset();
    });

    // Intersection Observer for animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, observerOptions);

    // Observe all cards and team members
    document.querySelectorAll('.blog-card').forEach(el => {
      el.style.opacity = '0';
      el.style.transform = 'translateY(30px)';
      el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      observer.observe(el);
    });

  </script>
</body>

</html>

